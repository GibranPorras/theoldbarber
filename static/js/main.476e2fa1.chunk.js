(this.webpackJsonptheoldbarber=this.webpackJsonptheoldbarber||[]).push([[0],{72:function(e,t,a){e.exports=a(88)},77:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(77),a(36)),s=a(11),m=a(55),u=a.n(m),i=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-center"},r.a.createElement(o.b,{className:"navbar-brand",to:"/"},r.a.createElement("h3",null,"The Old Barber Shop")),r.a.createElement("ul",{className:"navbar-nav justify-content-center"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"https://www.facebook.com",target:"blank"},r.a.createElement(u.a,{fontSize:"large"})))))},d=a(16),b=a.n(d),p=a(21),f=a(13),E=a(56),h=a(12),v=a(122),N=a(58),j=a(121),y=a(57),g=a.n(y),O=Object(N.a)({palette:{type:"dark",primary:g.a}}),k=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(new Date),c=Object(f.a)(a,2),l=c[0],o=c[1];Object(n.useImperativeHandle)(t,(function(){return{fecha:l}}));return r.a.createElement(h.a,{utils:E.a},r.a.createElement(j.a,{theme:O},r.a.createElement(v.a,{label:"Elige el d\xeda y hora",inputVariant:"outlined",value:l,onChange:function(e){o(e)}})))})),w=Object(n.forwardRef)((function(e,t){var a=Object(n.useRef)(),c=Object(n.useRef)(null),o=Object(n.useState)(!1),s=Object(f.a)(o,2),m=s[0],u=s[1],i=Object(n.useState)(""),d=Object(f.a)(i,2),E=d[0],h=d[1],v=Object(n.useState)(""),N=Object(f.a)(v,2),j=N[0],y=N[1],g=Object(n.useState)(""),O=Object(f.a)(g,2),w=O[0],x=O[1];Object(n.useImperativeHandle)(t,(function(){return{openModal:function(e,t){return C(e,t)},close:function(){return S()}}}));var C=function(e,t){h(e),y(t),u(!0)},S=function(){x(""),u(!1)},R=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://theoldserver.herokuapp.com/","/citas"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:j,fecha:a.current.fecha,cliente:w})});case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent,S();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?l.a.createPortal(r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement("div",{className:"modal-backdrop"}),r.a.createElement("div",{className:"modal-box"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"}," ",E),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:S},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{type:"text",onChange:function(e){return x(e.target.value)},value:w,className:"form-control",placeholder:"Nombre del cliente",ref:c,autoFocus:!0}),r.a.createElement("br",null),e.children,r.a.createElement(k,{ref:a})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:R},"Agendar"),r.a.createElement("button",{type:"button",className:"btn btn-danger disabled",onClick:S},"Cancelar")))))),document.getElementById("modal-root")):null})),x=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1],m=Object(n.useState)(!1),u=Object(f.a)(m,2),i=u[0],d=u[1],E=Object(n.useState)([]),h=Object(f.a)(E,2),v=h[0],N=h[1];Object(n.useImperativeHandle)(t,(function(){return{openModalcitas:function(e,t){return j(e,t)},closecitas:function(){return y()}}}));var j=function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),e.next=3,fetch("".concat("https://theoldserver.herokuapp.com/","/citas/").concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,N(r),s(!0);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){s(!1)};return o?l.a.createPortal(r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement("div",{className:"modal-backdrop"}),r.a.createElement("div",{className:"modal-box"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"}," ",i," "),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:y},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},e.children,r.a.createElement("table",{class:"table table-striped table-primary"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},r.a.createElement("h5",null,"Cliente")),r.a.createElement("th",{scope:"col"},r.a.createElement("h5",null,"Hora")),r.a.createElement("th",{scope:"col"},r.a.createElement("h5",null,"D\xeda")))),r.a.createElement("tbody",null,v.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.cliente),r.a.createElement("td",null,e.hora),r.a.createElement("td",null,e.fecha))}))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger disabled",onClick:y},"Cerrar")))))),document.getElementById("modal-citas")):null})),C=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(!1),c=Object(f.a)(a,2),o=c[0],s=c[1],m=Object(n.useState)(!1),u=Object(f.a)(m,2),i=u[0],d=u[1],E=Object(n.useState)(!1),h=Object(f.a)(E,2),v=h[0],N=h[1];Object(n.useImperativeHandle)(t,(function(){return{openHoy:function(e,t){return j(e,t)},closecitas:function(){return y()}}}));var j=function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),e.next=3,fetch("".concat("https://theoldserver.herokuapp.com/","/citasHoy/").concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,N(r),s(!0);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){s(!1)};return o?l.a.createPortal(r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement("div",{className:"modal-backdrop"}),r.a.createElement("div",{className:"modal-box"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"}," ",i),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:y},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},e.children,r.a.createElement("table",{class:"table table-striped table-primary"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},r.a.createElement("h5",null,"Cliente")),r.a.createElement("th",{scope:"col"},r.a.createElement("h5",null,"Hora")),r.a.createElement("th",{scope:"col"},r.a.createElement("h5",null,"D\xeda")))),r.a.createElement("tbody",null,v.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.cliente),r.a.createElement("td",null,e.hora),r.a.createElement("td",null,e.fecha))}))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger disabled",onClick:y},"Cerrar")))))),document.getElementById("modal-citas")):null})),S="https://theoldserver.herokuapp.com/",R=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(null),l=Object(n.useState)(""),o=Object(f.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)([]),i=Object(f.a)(u,2),d=i[0],E=i[1],h=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(S,"/barberos"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.next=8,v();case 8:m(""),c.current.focus();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/barberos"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,E(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Estas seguro de eliminar al barbero?")){e.next=11;break}return e.next=4,fetch("".concat(S,"/barberos/").concat(t),{method:"DELETE"});case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,console.log(n),e.next=11,v();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[]),r.a.createElement("div",{className:"row row-cols-1 row-cols-md-3"},d.map((function(n){return r.a.createElement("div",{className:"col mb-4",key:n._id},r.a.createElement("div",{className:"card bg-primary"},r.a.createElement("img",{className:"card-img-top maxImage",src:"img_avatar1.png",alt:"Card image"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},n.barber),r.a.createElement("div",{className:"btn-group mb-3"},r.a.createElement("button",{type:"button",className:"btn btn-secondary mr-2",onClick:function(){return function(e,t){a.current.openHoy(e,t)}(n.barber,n._id)}},"Citas para hoy"),r.a.createElement("button",{type:"button",className:"btn btn-outline-warning",onClick:function(){return function(e,a){t.current.openModalcitas(e,a)}(n.barber,n._id)}},"Ver todas las citas")),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg btn-block",onClick:function(){return function(t,a){e.current.openModal(t,a)}(n.barber,n._id)}},"Agendar Cita")),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert",onClick:function(e){return N(n._id)}},"\xd7")))})),r.a.createElement("div",{className:"col mb-4"},r.a.createElement("div",{className:"card bg-primary"},r.a.createElement("img",{className:"card-img-top maxImage",src:"img_avatar1.png",alt:"Card image"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},"Agregar nuevo barbero"),r.a.createElement("input",{type:"text",onChange:function(e){return m(e.target.value)},value:s,className:"form-control",placeholder:"Nombre",ref:c,autoFocus:!0}),r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg btn-block",onClick:function(e){return h(e)}},"Registrar")))),r.a.createElement(w,{ref:e}),r.a.createElement(x,{ref:t}),r.a.createElement(C,{ref:a}))};var I=function(){return r.a.createElement(o.a,null,r.a.createElement(i,null),r.a.createElement("div",{className:"container p-4 mt-3"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:R}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(86),a(87);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[72,1,2]]]);
//# sourceMappingURL=main.476e2fa1.chunk.js.map